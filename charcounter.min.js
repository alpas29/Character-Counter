!function(t){"use strict";t.fn.charCounter=function(o){void 0===String.prototype.format&&(String.prototype.format=function(){for(var t=this,o=0;o<arguments.length;o++){var n="{"+o+"}";t=t.replace(n,arguments[o])}return t});o=t.extend({backgroundColor:"#FFFFFF",position:{right:10,top:10},font:{size:10,color:"#a59c8c"},limit:255},o);return this.each(function(){var n=o.limit;void 0!==t(this).attr("data-length")&&(n=t(this).attr("data-length"));var e=t(this),i=t("<div/>").addClass("focus-textarea").css({position:"relative",display:"inline-block"}),r=t("<span/>").css({zIndex:999,backgroundColor:o.backgroundColor,position:"absolute","font-size":o.font.size,color:o.font.color}).css(o.position);function a(e){o.limit>0?r.text("{0}/{1}".format(t(this).val().length,n)):r.text(t(this).val().length)}n>0?(r.text("{0}/{1}".format(e.val().length,n)),e.prop("maxlength",n)):r.text(e.val().length),e.wrap(i),e.before(r),e.on("keyup",a).on("keypress",a).on("keydown",a)})}}(jQuery);
